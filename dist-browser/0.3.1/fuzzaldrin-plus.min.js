/* fuzzaldrin-plus - v0.3.1 - @license: MIT; @author: Jean Christophe Roy; @site: https://github.com/jeancroy/fuzzaldrin-plus */
!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.fuzzaldrin=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){(function(){var c,d,e,f;e=a("./scorer"),c=e.pathSeparator,d=function(a){return a.candidate},f=function(a,b){return b.score-a.score},b.exports=function(a,b,c){var g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w;for(null==c&&(c={}),r=[],k=c.key,m=c.maxResults,l=c.maxInners,g=c.allowErrors,j=c.isPath,u=c.useExtensionBonus,n=c.optCharRegEx,o=c.pathSeparator,s=null!=l&&l>0?l:a.length,h=null!=k,p=e.prepQuery(b,c),v=0,w=a.length;v<w&&(i=a[v],t=h?i[k]:i,!(t&&(q=e.score(t,b,p,g,j,u,o),q>0&&(r.push({candidate:i,score:q}),!--s))));v++);return r.sort(f),a=r.map(d),null!=m&&(a=a.slice(0,m)),a}}).call(this)},{"./scorer":4}],2:[function(a,b,c){(function(){var c,d,e,f,g;g=a("./scorer"),c=a("./filter"),d=a("./matcher"),f=null,b.exports={filter:function(a,b,d){return null==d&&(d={}),(null!=b?b.length:void 0)&&(null!=a?a.length:void 0)?(d=e(d),c(a,b,d)):[]},prepQuery:function(a,b){return null==b&&(b={}),b=e(b),g.prepQuery(a,b)},score:function(a,b,c,d){var h,i,j,k,l;return null==d&&(d={}),(null!=a?a.length:void 0)&&(null!=b?b.length:void 0)?(d=e(d),h=d.allowErrors,i=d.isPath,l=d.useExtensionBonus,j=d.optCharRegEx,k=d.pathSeparator,null==c&&(c=f&&f.query===b?f:f=g.prepQuery(b,d)),g.score(a,b,c,h,i,l,k)):0},match:function(a,b,c,h){var i,j,k,l,m,n,o,p,q;return null==h&&(h={}),a&&b?a===b?function(){q=[];for(var b=0,c=a.length;0<=c?b<c:b>c;0<=c?b++:b--)q.push(b);return q}.apply(this):(h=e(h),i=h.allowErrors,k=h.isPath,p=h.useExtensionBonus,m=h.optCharRegEx,n=h.pathSeparator,null==c&&(c=f&&f.query===b?f:f=g.prepQuery(b,h)),i||g.isMatch(a,c.core_lw,c.core_up)?(o=a.toLowerCase(),l=d.match(a,o,c),0===l.length?l:(a.indexOf(n)>-1&&(j=d.basenameMatch(a,o,c,n),l=d.mergeMatches(l,j)),l)):[]):[]}},e=function(a){return null==a.allowErrors&&(a.allowErrors=!1),null==a.isPath&&(a.isPath=!0),null==a.useExtensionBonus&&(a.useExtensionBonus=!0),null==a.pathSeparator&&(a.pathSeparator=g.pathSeparator),null==a.optCharRegEx&&(a.optCharRegEx=null),a}}).call(this)},{"./filter":1,"./matcher":3,"./scorer":4}],3:[function(a,b,c){(function(){var b;b=a("./scorer"),c.basenameMatch=function(a,b,d,e){var f,g,h;for(h=a.length-1;a[h]===e;)h--;if(f=a.lastIndexOf(e,h),f===-1)return[];for(g=d.depth;g-- >0;)if(f=a.lastIndexOf(e,f-1),f===-1)return[];return f++,h++,c.match(a.slice(f,h),b.slice(f,h),d,f)},c.mergeMatches=function(a,b){var c,d,e,f,g,h,i;if(g=a.length,h=b.length,0===h)return a.slice();if(0===g)return b.slice();for(e=-1,f=0,d=b[f],i=[];++e<g;){for(c=a[e];d<=c&&++f<h;)d<c&&i.push(d),d=b[f];i.push(c)}for(;f<h;)i.push(b[f++]);return i},c.match=function(a,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E;for(null==e&&(e=0),w=d.query,x=d.query_lw,r=a.length,u=w.length,j=b.scoreAcronyms(a,c,w,x).score,A=new Array(u),n=new Array(u),h=0,i=1,g=2,f=3,E=new Array(r*u),v=-1,q=-1;++q<u;)A[q]=0,n[q]=0;for(p=-1;++p<r;)for(y=0,B=0,m=0,C=c[p],q=-1;++q<u;)o=0,k=0,z=B,x[q]===C&&(D=b.isWordStart(p,a,c),o=m>0?m:b.scoreConsecutives(a,c,w,x,p,q,D),k=z+b.scoreCharacter(p,q,D,j,o)),B=A[q],m=n[q],y>B?t=g:(y=B,t=i),k>y?(y=k,t=f):o=0,A[q]=y,n[q]=o,E[++v]=y>0?t:h;for(p=r-1,q=u-1,v=p*u+q,l=!0,s=[];l&&p>=0&&q>=0;)switch(E[v]){case i:p--,v-=u;break;case g:q--,v--;break;case f:s.push(p+e),q--,p--,v-=u+1;break;default:l=!1}return s.reverse(),s}}).call(this)},{"./scorer":4}],4:[function(a,b,c){(function(a){(function(){var b,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H;g=c.pathSeparator=a&&"win32"===a.platform?"\\":"/",H=150,t=20,E=13,F=85,i=1.2,r=.75,s=/[ _\-:\/\\]/g,c.coreChars=e=function(a,b){return null==b&&(b=s),a.replace(b,"")},c.score=function(a,b,c,d,e,f,g){var h,i;return d||n(a,c.core_lw,c.core_up)?(i=a.toLowerCase(),h=z(a,i,c),e&&(h=A(a,i,c,h,f,g)),Math.ceil(h)):0},d=function(){function a(a,b){var c,d,g;return g=null!=b?b:{},c=g.optCharRegEx,d=g.pathSeparator,a&&a.length?(this.query=a,this.query_lw=a.toLowerCase(),this.core=e(a,c),this.core_lw=this.core.toLowerCase(),this.core_up=G(this.core),this.depth=f(a,a.length,d),this.ext=k(this.query_lw),void(this.charCodes=j(this.query_lw))):null}return a}(),c.prepQuery=function(a,b){return new d(a,b)},c.isMatch=n=function(a,b,c){var d,e,f,g,h,i,j;if(f=a.length,g=b.length,!f||g>f)return!1;for(d=-1,e=-1;++e<g;){for(h=b.charCodeAt(e),i=c.charCodeAt(e);++d<f&&(j=a.charCodeAt(d),j!==h&&j!==i););if(d===f)return!1}return!0},z=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,s,t,z,A,B,C,E,F,G,H,I,J;if(z=c.query,A=c.query_lw,m=a.length,s=z.length,d=u(a,b,z,A),e=d.score,d.count===s)return x(s,m,e,d.pos);if(t=b.indexOf(A),t>-1)return y(a,b,z,A,t,s,m);for(F=new Array(s),i=new Array(s),J=D(s,m),n=Math.ceil(r*s)+5,o=n,l=-1;++l<s;)F[l]=0,i[l]=0;for(k=b.indexOf(A[0]),k>-1&&k--,p=b.lastIndexOf(A[s-1],m),p>k&&(m=p+1),h=!0;++k<m;)if(H=b[k],null!=c.charCodes[H.charCodeAt(0)])for(C=0,E=0,g=0,B=!0,h=!1,l=-1;++l<s;){if(G=F[l],G>C&&(C=G),j=0,A[l]===H)if(I=q(k,a,b),j=g>0?g:w(a,b,z,A,k,l,I),f=E+v(k,l,I,e,j),f>C)C=f,o=n;else{if(B&&--o<=0)return F[s-1]*J;B=!1}E=G,g=i[l],i[l]=j,F[l]=C}else if(h!==!0){for(l=-1;++l<s;)i[l]=0;h=!0}return C=F[s-1],C*J},c.isWordStart=q=function(a,b,c){var d,e;return 0===a||(d=b[a],e=b[a-1],o(e)||d!==c[a]&&e===c[a-1])},c.isWordEnd=p=function(a,b,c,d){var e,f;return a===d-1||(e=b[a],f=b[a+1],o(f)||e===c[a]&&f!==c[a+1])},o=function(a){return" "===a||"."===a||"-"===a||"_"===a||"/"===a||"\\"===a},C=function(a){var b;return a<t?(b=t-a,100+b*b):Math.max(100+t-a,0)},D=function(a,b){return F/(F+Math.abs(b-a))},x=function(a,b,c,d){return 2*a*(H*c+C(d))*D(a,b)},c.scorePattern=B=function(a,b,c,d,e){var f,g;return g=a,f=6,c===a&&(f+=2),d&&(f+=3),e&&(f+=1),a===b&&(d&&(g+=c===b?2:1),e&&(f+=1)),c+g*(g+f)},c.scoreCharacter=v=function(a,b,c,d,e){var f;return f=C(a),c?f+H*((d>e?d:e)+10):f+H*e},c.scoreConsecutives=w=function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n;for(i=a.length,k=c.length,j=i-e,l=k-f,h=j<l?j:l,m=0,n=0,c[f]===a[e]&&m++;++n<h&&d[++f]===b[++e];)c[f]===a[e]&&m++;return 1===n?1+2*m:B(n,k,m,g,p(e,a,b,i))},c.scoreExactMatch=y=function(a,b,c,d,e,f,g){var h,i,j,k,l;for(l=q(e,a,b),l||(j=b.indexOf(d,e+1),j>-1&&(l=q(j,a,b),l&&(e=j))),i=-1,k=0;++i<f;)c[e+i]===a[i]&&k++;return h=p(e+f-1,a,b,g),x(f,g,B(f,f,k,l,h),e)},b=function(){function a(a,b,c){this.score=a,this.pos=b,this.count=c}return a}(),h=new b(0,.1,0),c.scoreAcronyms=u=function(a,c,d,e){var f,g,i,j,k,l,n,p,r,s,t;if(k=a.length,l=d.length,!(k>1&&l>1))return h;for(f=0,s=0,t=0,p=0,i=-1,j=-1;++j<l;){if(n=e[j],o(n)){if(i=c.indexOf(n,i+1),i>-1){s++;continue}break}for(;++i<k;)if(n===c[i]&&q(i,a,c)){d[j]===a[i]&&p++,t+=i,f++;break}if(i===k)break}return f<2?h:(g=f===l&&m(a,c,d,f),r=B(f,l,p,!0,g),new b(r,t/f,f+s))},m=function(a,b,c,d){var e,f,g,h;if(g=a.length,h=c.length,e=0,g>12*h)return!1;for(f=-1;++f<g;)if(q(f,a,b)&&++e>d)return!1;return!0},A=function(a,b,c,d,e,g){var h,j,k,m,n,o;if(0===d)return 0;for(n=a.length-1;a[n]===g;)n--;if(k=a.lastIndexOf(g,n),o=1,e&&(o+=l(b,c.ext,k,n,2),d*=o),k===-1)return d;for(m=c.depth;k>-1&&m-- >0;)k=a.lastIndexOf(g,k-1);return j=k===-1?d:o*z(a.slice(k+1,n+1),b.slice(k+1,n+1),c),h=.5*E/(E+f(a,n+1,g)),h*j+(1-h)*d*D(0,i*(n-k))},c.countDir=f=function(a,b,c){var d,e;if(b<1)return 0;for(d=0,e=-1;++e<b&&a[e]===c;);for(;++e<b;)if(a[e]===c)for(d++;++e<b&&a[e]===c;);return d},k=function(a){var b;return b=a.lastIndexOf("."),b<0?"":a.substr(b+1)},l=function(a,b,c,d,e){var f,g,h,i;if(!b.length)return 0;if(i=a.lastIndexOf(".",d),!(i>c))return 0;for(h=b.length,f=d-i,f<h&&(h=f,f=b.length),i++,g=-1;++g<h&&a[i+g]===b[g];);return 0===g&&e>0?.9*l(a,b,c,i-2,e-1):g/f},G=function(a){var b,c,d,e;for(c="",d=0,e=a.length;d<e;d++)b=a[d],c+=b.toUpperCase()[0];return c},j=function(a){var b,c,d;for(d=a.length,c=-1,b=[];++c<d;)b[a.charCodeAt(c)]=!0;return b}}).call(this)}).call(this,a("_process"))},{_process:5}],5:[function(a,b,c){function d(){m&&k&&(m=!1,k.length?l=k.concat(l):n=-1,l.length&&e())}function e(){if(!m){var a=h(d);m=!0;for(var b=l.length;b;){for(k=l,l=[];++n<b;)k&&k[n].run();n=-1,b=l.length}k=null,m=!1,i(a)}}function f(a,b){this.fun=a,this.array=b}function g(){}var h,i,j=b.exports={};!function(){try{h=setTimeout}catch(a){h=function(){throw new Error("setTimeout is not defined")}}try{i=clearTimeout}catch(a){i=function(){throw new Error("clearTimeout is not defined")}}}();var k,l=[],m=!1,n=-1;j.nextTick=function(a){var b=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];l.push(new f(a,b)),1!==l.length||m||h(e,0)},f.prototype.run=function(){this.fun.apply(null,this.array)},j.title="browser",j.browser=!0,j.env={},j.argv=[],j.version="",j.versions={},j.on=g,j.addListener=g,j.once=g,j.off=g,j.removeListener=g,j.removeAllListeners=g,j.emit=g,j.binding=function(a){throw new Error("process.binding is not supported")},j.cwd=function(){return"/"},j.chdir=function(a){throw new Error("process.chdir is not supported")},j.umask=function(){return 0}},{}]},{},[2])(2)});